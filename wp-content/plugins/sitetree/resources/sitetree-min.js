/**
 * Copyright 2020 Luigi Cavalieri.
 * @license GPL v3.0 (https://opensource.org/licenses/GPL-3.0).
 * *************************************************************** */
function SiteTreeSetting(e){this.id=e,this._target=document.getElementById(e),this._jqTarget=null,this._row=null}function SiteTreePingUI(e){this.mouseIsOn=!1,this.isVisible=!1,this.pingInfoView=e.firstChild;var t=this;jQuery(e).hover(function(){t.show()},function(){t.hide()})}SiteTreeSetting.prototype.value=function(){return this._target?this._target.value:null},SiteTreeSetting.prototype.disable=function(e){if(!this._target)return!1;void 0===e&&(e=!0),this._target.disabled=e},SiteTreeSetting.prototype.bindEvent=function(e,t){this._jqTarget||(this._jqTarget=jQuery(this._target)),this._jqTarget.on(e,t)},SiteTreeSetting.prototype.isChecked=function(){return this._target?this._target.checked:null},SiteTreeSetting.prototype.hide=function(e){if(!this._target)return!1;this._row||(this._row=this._target.parentNode.parentNode),this._row.style.display=e||void 0===e?"none":"table-row"},SiteTreeSetting.prototype.toggle=function(){if(!this._target)return!1;this._row||(this._row=this._target.parentNode.parentNode),"none"==this._row.style.display?this._row.style.display="table-row":this._row.style.display="none"},SiteTreePingUI.prototype.show=function(){this.mouseIsOn=!0,this.isVisible||(this.isVisible=!0,this.pingInfoView.style.display="block")},SiteTreePingUI.prototype.hide=function(){this.mouseIsOn=!1,setTimeout(function(e){e.mouseIsOn||(e.isVisible=!1,e.pingInfoView.style.display="none")},800,this)};var SiteTree=(jQuery,{init:function(e){switch(e){case"sitetree-dashboard":var t,i=document.getElementById("page-for-site-tree"),r=document.getElementsByClassName("sitetree-ping"),s=[];if(r)for(var n=0;n<r.length;n++)s[n]=new SiteTreePingUI(r[n]);i&&"0"===i.value&&((t=document.getElementById("sitetree-primary-site_tree-form-btn")).disabled=!0,i.onchange=function(){t.disabled="0"===i.value});break;case"sitetree-site_tree":for(var o={},a=["page-exclude-childs","page-hierarchical","post-group-by","post-order-by","authors-show-avatar","authors-avatar-size"],n=0;n<a.length;n++)o[a[n].replace(/-/g,"_")]=new SiteTreeSetting(a[n]);o.page_exclude_childs.isChecked()&&o.page_hierarchical.hide(),o.authors_show_avatar.isChecked()||o.authors_avatar_size.hide(),"date"==o.post_group_by.value()&&o.post_order_by.hide(),o.page_exclude_childs.bindEvent("click",function(){o.page_hierarchical.toggle()}),o.authors_show_avatar.bindEvent("click",function(){o.authors_avatar_size.toggle()}),o.post_group_by.bindEvent("change",function(){o.post_order_by.hide("date"==this.value)})}}});