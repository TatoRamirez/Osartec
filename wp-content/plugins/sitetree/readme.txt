=== SiteTree ===
Author URI: https://luigicavalieri.com/
Plugin URI: https://luigicavalieri.com/sitetree/
Contributors: _luigi
Tags: html5 site map, google sitemap, image sitemap, news sitemap, ping, dynamic, generator, list, ping, pinging, robots, search engines, seo, site map, sitemap, html, xml
Requires at least: 5.2
Tested up to: 5.5
Requires PHP: 5.6.20
Stable tag: 4.2
License: GPL v3.0
License URI: https://opensource.org/licenses/GPL-3.0

A sitemap maker for WordPress.


== Description ==

SiteTree is a lightweight solution to enhancing a WordPress website with a Site Tree, a Google (Image) Sitemap and a News Sitemap. Developed prioritising user-friendliness, SiteTree is plug-and-play and nearly independent from user input.


### An overview of the major features:

= A Family of Dynamic Sitemaps =

Be it a Site Tree, a Google Sitemap or a Google News Sitemap, the sitemap of your choice will always be up-to-date.

= SiteTree Dashboard =

Where you can control the activation of the sitemaps, choose which types of content to include, know details about the building process, and through a dedicated User Interface element, the Pinging Bubble, information about the latest pinging event are always at hand.

= Code-free Customisation =

The customisation of the Site Tree and the Google Sitemap starts and ends with a few clicks, and even less typing, on two settings pages that look like the ones you are already familiar with.

= Custom Post Types Support =

You can include in the sitemaps any kind of content, custom or built-in. Yes, even in the Google News Sitemap.

= Exclude and Disallow =

Posts, pages and custom posts can be excluded from the sitemaps directly from the editor screen of WordPress. And with no more than a tick of a checkbox you can add to the 'robots.txt' file generated by WordPress a `Disallow` rule for each web page excluded from the Google Sitemap.

= Automated and Upon-request Pinging =

SiteTree can ping Google both on request, and automatically whenever a permalink is added to the Google Sitemap or to the News Sitemap. And when the subject of the notification is the Google Sitemap, there is always a second ping ready to reach Bing.

= Native Support for the WordPress Super Cache Plugin =

SiteTree is able to automatically update the sitemaps even with the WordPress Super Cache plugin doing the "supercaching" of your website.

= This is a Ghost Page =

When a page is flagged as Ghost Page, SiteTree automatically excludes the page from the Site Tree and the Google Sitemap, prevents the WP Super Cache plugin from caching the page and hides the page from crawlers without showing up its path in the 'robots.txt' file.

More info and the complete documentation are available on [LuigiCavalieri.com](https://luigicavalieri.com/sitetree/).


### A feature-loaded Site Tree:

* Lists reordering.
* Customise the title of the lists.
* Hierarchical and flat list styles.
* Exclude all child pages.
* Group posts by date, category or author.
* Order posts by publication date or popularity.
* Stick featured posts on top.
* Show an excerpt of user defined length for posts.
* Show authors' avatar and biographical info.
* Exclude specific posts and taxonomies.


### SiteTree Pro

Equipped with functionalities like the Pinging Log and the Site Tree Pagination, SiteTree Pro comes with one year of automatic updates and technical support. [Do check out SiteTree Pro](https://luigicavalieri.com/sitetree/go-pro/)!


== Installation ==

Upload in the 'plugins' folder, and activate.


== Screenshots ==

1. The SiteTree Dashboard.
2. The SiteTree Dashboard when the sitemaps are active.
3. The Pinging Bubble.
4. Metadata section.
5. The Google Sitemap generated for SiteTreePlugin.com.


== Frequently Asked Questions ==

= What is a Site Tree? =

It actually is a Site Map, a human-oriented listing marked up in HTML5 of the most prominent content of your website.

= Is there any chance of running into conflicts with the Core Sitemap functionality introduced in WordPress 5.5?

No, there isn't. The plugin automatically disables the Core Sitemap functionality when the Google Sitemap is active.

= Are the XML Sitemaps produced by SiteTree human-readable? =

Yes, they are. Although the Google Sitemap and the Google News Sitemap are crawler-oriented sitemaps, they are both human-readable.

= Is SiteTree compatible with the Multisite feature of WordPress? =

Yes, it is.

= Can SiteTree generate a Google Sitemap complete with Change Frequency and Priority metadata? =

Starting from SiteTree 3.0 the plugin no longer has this ability, become obsolete by now.

= Will I lose my settings by upgrading from SiteTree 1.5.3? =

You will lose only your general settings, your preferences about whether or not to exclude a post or page from the sitemaps will be automatically upgraded. Instead, the Change Frequency and Priority metadata you might have set for some posts or pages will not require upgrade, because in the latest version of SiteTree their use has been dropped.


== Upgrade Notice ==

= 4.2 =

If you are upgrading from SiteTree 1.5.3 your preferences about whether or not to exclude a post or page from the sitemaps will be automatically upgraded, but your general settings will be reset instead. The Change Frequency and Priority metadata are not used any more, nonetheless they will not be deleted from the database during the upgrade.


== Changelog ==

= 4.2 (13 August 2020) =

The XLS templates are now dynamically generated and fully localisable.

For WordPress 5.5 users: when the Google Sitemap is active the plugin automatically disables the Core Sitemap functionality introduced in the latest WordPress. 


= 4.1.2 (1 August 2020) =

Fixed a bug that caused the child pages listed in the Site Tree to have an incomplete permalink.


= 4.1.1 (6 July 2020) =

SiteTree has a new home on the web: [LuigiCavalieri.com](https://luigicavalieri.com/). Feel free to send me your feedback!


= 4.1 (15 June 2020) =

This update extends the pinging ability to the Google News Sitemap, and fixes a bug where the Pinging-On-Request wasn't available when all the automatic pings failed.


= 4.0.1 (1 June 2020) =

Fixed a bug that prevented the updating of the information related to the Google News Sitemap when the amount of listed news changed independently of the occurrence of a publishing event.


= 4.0 (25 May 2020) =

The plugin can now produce a third kind of sitemap, a News Sitemap! From which you can exclude content, if you need to, and in which you can include almost any WordPress Post Type, even more than one.

This update also drops the caching functionality, better suited to a dedicated plugin like WordPress Super Cache, which SiteTree natively supports.


= 3.2 (4 May 2020) =

Brought back the pinging facility! Renewed in behaviour and with more functionalities â€” like the pinging on request.

This update also fixes a bug where the plugin, in tallying the number of permalinks excluded from the Google Sitemap, took account of the binned posts that were flagged as excluded.


= 3.1 (20 April 2020) =

The Ghost Page functionality adds up to the feature-set!

A short intro: a page flagged as Ghost Page is automatically excluded from both sitemaps, not cached by the WP Super Cache plugin and hidden from crawlers without its path showing up in the 'robots.txt' file.


= 3.0.2 (7 April 2020) =

Fixed a major bug concerning the upgrade from SiteTree 1.5.3 and made general improvements.


= 3.0.1 (26 March 2020) =

Fixed:

* Custom taxonomies couldn't be included in the Google Sitemap.
* Authors' pages containing only custom posts couldn't be included in the Google Sitemap.
* Taxonomies containing only drafts were listed in the Site Tree.


= 3.0 (23 March 2020) =

In addition to the following this update adds support for custom post types and drops the use of the Change Frequency and Priority metadata, become obsolete by now. However, the metadata you have set for each post and page will not be deleted from the database during the upgrade.

Improvements:

* Content types can now be included directly from the dashboard.
* Now the content of the settings pages changes according to the type of content included in the sitemaps.
* Added in the dashboard a button to deactivate the Site Tree.


= 2.2.1 (16 March 2020) =

Fixed a bug that caused the plugin to generate a `Disallow` rule for each featured (sticky) post, regardless of whether or not the post was excluded from the Google Sitemap.


= 2.2 (9 March 2020) =

New:

Added the ability to show an excerpt of user-defined length for each post listed in the Site Tree.

Improvements:

* On computing the 'Last Modified' (`lastmod`) metadata for a page the plugin takes into account also the modification date of the `page-{slug}.php` and `page-{id}.php` template files.
* The 'Priority' value for child pages is no longer lower than the one chosen for parent pages.
* Authors can now be excluded from the Site Tree by nickname.

Fixed:

The plugin didn't flush the cache when a page was moved to the bin.


= 2.1.1 (29 February 2020) =

Fixed a bug related to the Google Image Sitemap: only one image per URL element was listed.


= 2.1 (17 February 2020) =

New:

* Added the first five Action Hooks: `sitetree_is_building_sitemap`, `sitetree_will_build_lists`, `sitetree_did_build_lists`, `sitetree_will_build_single_list` and  `sitetree_did_build_single_list`.
* Added the ability to exclude from the Site Tree all the child pages.
* You can know the count of permalinks excluded from the Google Sitemap by hovering over the count of permalinks displayed in the dashboard.

Improvements:

* Dramatically reduced the number of database queries needed to build a Google Image Sitemap.
* On computing the 'Last Modified' (`lastmod`) metadata for the home page the plugin takes into account also the modification date of the `front-page.php` template file.
* The plugin disables the ability to manually launch the rebuilding process when less than one minute has elapsed since the last rebuilding.
* Replaced the dates shown in the dashboard with the counts of the time elapsed since the last rebuilding. The exact date can be known by hovering over the elapsed time.
* When the profile of an author excluded from the Site Tree is updated, the Site Tree is no longer rebuilt.
* When a taxonomy excluded from one or both sitemaps is updated, the rebuilding process is no longer fired.
* Wrapped each list of the Site Tree in a `<div>`.
* Added an `id` attribute to each list and list's title of the Site Tree.

Fixed:

* In some circumstances a "304 Not Modified" response header was returned to the client even though the Google Sitemap had to be served afresh.
* The ability to exclude taxonomies from the Site Tree didn't work when the list style was hierarchical.


= 2.0.3 (5 February 2020) =

Fixed a bug that, when the Site Tree was disabled, could cause the building process of the Site Tree to run on loading any non-admin page.


= 2.0.2 (27 January 2020) =

The plugin no longer redirects to the dashboard when is activated for the first time.


= 2.0.1 (16 January 2020) =

* Translations migrated to translate.wordpress.org.
* The 'List title' fields in the 'Site Tree Settings' screen now can accept in-line HTML tags.
* Fixed an issue affecting the automatic resizing of the dashboard.


= 2.0 (9 January 2020) =
*Requires WordPress 5.2 or later.*

A new journey has finally begun!